## 深入理解CAS

> CAS是什么

CAS≠自旋锁，而是自旋锁中一般会搭配CAS进行操作

1. 原子类，才可以进行CAS操作
2. 原子引用其实也是原子类，只是对他的CAS操作进行了类似乐观锁的机制（记录版本号，来得知是否被修改过）
3. 



> 通过原子引用解决CAS ABA问题（类似乐观锁的方式）



> 通过CAS实现自旋锁



依赖关系：自旋锁依赖CAS实现，而CAS不一定要跟自旋操作绑定。本质是CompareAndSwap的操作。



乐观锁就没有加锁是在内部进行CAS的操作， 同时代码直接运行。最后检查数据和数据的版本号，如果不匹配就修改失败，描述的是一次运行的过程。（代码开头结尾，进行CAS操作检查）

而自旋锁是获取不到锁时就一直等待，还没有进入代码中操作，是对等待锁的方式描述。（没进代码就锁住了）

CAS应当被视为一种原子性的操作